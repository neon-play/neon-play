<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NeonAnime Hub â€” Series</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Main CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>
<body data-target="series">

  <!-- ===== HEADER / NAVBAR ===== -->
  <header class="navbar">

    <div class="menu-icon" id="menuBtn" style="margin-left:6px;">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <h1 class="site-title" style="margin:0 auto;">
      ğğ’†ğ’ğ’<span>ğ‘¨ğ§ğ¢ğ¦ğ</span> ğ‘¨ğ¬ğ¢ğ‘¨
    </h1>

  </header>

  <!-- ===== SEARCH BAR ===== -->
  <section class="search-section">

    <!-- wrapper centers the bar (uses existing CSS) -->
    <div class="search-wrapper">
      <!-- keep .search-box for JS, add .search-bar so CSS applies -->
      <div class="search-box search-bar">
        <i class="material-icons">search</i>
        <input type="text" placeholder="Search for anime..." />
      </div>
    </div>

    <!-- result panel (styled by CSS). results-inner keeps id used by JS. -->
    <div class="search-result-panel" id="searchResultPanel" aria-hidden="true">
      <div class="results-inner" id="liveSearchResults"></div>
      <div class="no-results" style="display:none;">No results found.</div>
    </div>

  </section>

  <!-- ===== FILTER BAR ===== -->
  <section class="filter-bar">

    <div class="sort-box">
      <label for="sortSelect">Sort by:</label>
      <select id="sortSelect">
        <option value="latest">Latest First</option>
        <option value="oldest">Oldest First</option>
        <option value="az">A - Z</option>
        <option value="za">Z - A</option>
      </select>
    </div>

  </section>
  <!-- ===== SLIDE MENU ===== -->
  <aside class="side-menu" id="sideMenu">

    <div class="menu-header">
      <h2>--ã€Šğ— ğ—˜ğ—¡ğ—¨ã€‹--</h2>
    </div>

    <ul class="menu-list">
      <li><a href="index.html">ğŸ  Home</a></li>
      <li><a href="movies.html">ğŸ¬ Movies</a></li>
      <li><a href="series.html">ğŸ“º Series</a></li>
      <li><a href="genres.html">ğŸ­ Genres</a></li>
    </ul>

  </aside>

  <!-- ===== MAIN CONTENT ===== -->
  <main>

    <section class="content-section">

      <div class="section-header">
        <h2>ğ‘¨ğ§ğ¢ğ¦ğ ğ’ğğ«ğ¢ğğ¬</h2>
      </div>

      <!-- IMPORTANT: keep the same grid id ("movieGrid") so details.js can target it unchanged -->
      <div class="grid-container" id="movieGrid">
        <!-- Cards injected via js/details.js (shim forces only series items through) -->
      </div>
      <button class="load-more-btn" id="loadMoreBtn">Load More Series</button>
    </section>

  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="footer">
    <p>Â© 2026 ğğ’†ğ’ğ’ ğ‘¨ğ§ğ¢ğ¦ğ ğ‘¨ğ¬ğ¢ğ‘¨. ğ’•ğ’‰ğ’† ğ’ğ’‡ğ’‡ğ’Šğ’„ğ’Šğ’‚ğ’ ğ‘¨ğ’”ğ’Šğ’‚ğ’ ğ‘¨ğ’ğ’Šğ’ğ’† ğ‘ºğ’•ğ’“ğ’†ğ’‚ğ’ğ’Šğ’ğ’ˆ ğ‘ºğ’Šğ’•ğ’†.</p>
  </footer>
<script>
(function () {
  // Only run on series page
  if (document.body.dataset.target !== "series") return;

  const originalFetch = window.fetch.bind(window);

  window.fetch = function (resource, options) {
    const url =
      typeof resource === "string"
        ? resource
        : resource && resource.url
        ? resource.url
        : "";

    // Intercept only anime.json
    if (url.includes("data/anime.json")) {
      return originalFetch(resource, options)
        .then(res => res.json())
        .then(data => {
          // Ensure array
          const list = Array.isArray(data) ? data : [];

          // FILTER: only type === "Series"
          const seriesOnly = list.filter(item =>
            item &&
            typeof item.type === "string" &&
            item.type.toLowerCase() === "series"
          );

          // Return filtered response
          return new Response(JSON.stringify(seriesOnly), {
            status: 200,
            headers: { "Content-Type": "application/json" }
          });
        });
    }

    // Pass through all other fetch calls
    return originalFetch(resource, options);
  };
})();
</script>
  <!-- ===== JS (unchanged) ===== -->
  <script src="js/details.js"></script>
<script src="js/bardesign.js"></script>
  <!-- accessibility mirror / small page tweaks (matches movies.html but adjusts labels) -->
  <script>
    // ensure search panel aria toggles for accessibility when JS shows results
    (function(){
      const searchInput = document.querySelector('.search-box input');
      const searchPanel = document.getElementById('searchResultPanel');
      const liveResults = document.getElementById('liveSearchResults');

      const obs = new MutationObserver(() => {
        if (!searchPanel) return;
        const visible = liveResults && window.getComputedStyle(liveResults).display !== 'none' && liveResults.children.length;
        if (visible) {
          searchPanel.classList.add('active');
          searchPanel.setAttribute('aria-hidden', 'false');
        } else {
          searchPanel.classList.remove('active');
          searchPanel.setAttribute('aria-hidden', 'true');
        }
      });
      if (liveResults) obs.observe(liveResults, { childList: true, attributes: true, attributeFilter: ['style'] });
    })();

    // cosmetic: ensure header/title/button show "Series"
    document.addEventListener('DOMContentLoaded', () => {
      const hdr = document.querySelector('.section-header h2');
      if (hdr) hdr.textContent = 'Series';
      const load = document.getElementById('loadMoreBtn');
      if (load) load.textContent = 'Load More Series';
    });
  </script>

</body>
</html>
